<html>
  <head>
    <link rel="stylesheet" href="index.css" />
  </head>
  <body>
    <div class="container">
      <main>
        <h3>German Letterbox Plate Generator</h3>
        <form id="form">
          <textarea
            cols="30"
            rows="3"
            maxlength="52"
            id="name-input"
            placeholder="Your name here"
          ></textarea>
          <button id="button-submit">Print</button>
        </form>
        <div>
          <div class="preview-box">
            <span class="preview-text"></span>
          </div>
          <div class="preview-box">
            <span class="preview-text"></span>
          </div>
        </div>
        <footer>
          <span>Made with ❤️ by </span>
          <a
            href="https://github.com/GabrielBB/german-letterbox-plate-generator"
          >
            Gabriel
          </a>
        </footer>
      </main>
    </div>

    <script type="text/javascript">
      (function () {
        const nameInput = document.getElementById("name-input");
        nameInput.addEventListener("keypress", (e) => {
          const value = e.target.value;
          const numberOfLines = (value.match(/\n/g) || []).length + 1;
          if (numberOfLines > 2) {
            e.preventDefault();
            return;
          }
        });

        const previewText = document.getElementsByClassName("preview-text");
        nameInput.addEventListener("keyup", (e) => {
          previewText[0].innerText = e.target.value;
          previewText[1].innerText = e.target.value;
        });

        const button = document.getElementById("button-submit");
        const form = document.getElementById("form");
        button.addEventListener("click", (e) => {
          form.classList.add("hidden");
          window.print();
          form.classList.remove("hidden");
        });
      })();
    </script>
  </body>
</html>
